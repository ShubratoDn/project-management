<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content, pageTitle, active)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Innoweb PM'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        body { min-height: 100vh; }
        .sidebar { width: 260px; transition: display 0.2s; }
        .brand { font-weight: 700; letter-spacing: .4px; }
        .content { margin-left: 260px; transition: margin-left 0.2s; }
        body.fullscreen-active .content { margin-left: 0 !important; }
        @media (max-width: 992px) {
            .content { margin-left: 0; }
            .sidebar { position: static; width: 100%; }
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="d-flex">
    <nav class="sidebar bg-white border-end px-3 py-4 position-fixed h-100">
        <div class="d-flex align-items-center mb-4 position-relative">
            <i class="bi bi-kanban fs-3 text-primary me-2"></i>
            <span class="brand">Innoweb PM</span>
            <a href="/" class="stretched-link"></a>
        </div>
        <ul class="nav nav-pills flex-column gap-1">
            <li class="nav-item"><a class="nav-link" th:classappend="${active}=='dashboard'?' active':''" href="/dashboard"><i class="bi bi-graph-up me-2"></i> Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" th:classappend="${active}=='tickets'?' active':''" href="/tickets"><i class="bi bi-ticket-detailed me-2"></i> Tickets</a></li>
            <li class="nav-item"><a class="nav-link" th:classappend="${active}=='stations'?' active':''" href="/stations"><i class="bi bi-geo-alt me-2"></i> Stations</a></li>
            <li class="nav-item"><a class="nav-link" th:classappend="${active}=='categories'?' active':''" href="/categories"><i class="bi bi-tags me-2"></i> Issue Categories</a></li>
            <li class="nav-item"><a class="nav-link" th:classappend="${active}=='emails'?' active':''" href="/emails"><i class="bi bi-envelope me-2"></i> Emails</a></li>
        </ul>
    </nav>

    <div class="content flex-grow-1">
        <nav class="navbar navbar-expand-lg bg-white border-bottom px-3">
            <div class="container-fluid">
                <span class="navbar-brand"><i class="bi bi-speedometer2 me-1"></i> <span th:text="${pageTitle} ?: 'Dashboard'"></span></span>
            </div>
        </nav>
        <main class="container py-4">
            <th:block th:replace="${content}"></th:block>
        </main>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</body>
</html>


